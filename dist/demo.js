"use strict";(()=>{var d=(t,e)=>{$(`input[name=${t}]`).val(e)};var p=t=>{let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},h=(t,e)=>{let a=typeof e=="object"?JSON.stringify(e):e;localStorage.setItem(t,a)};var u="hotel",F=(t,e)=>{let a="",o="";t.address_components.forEach(l=>{let n=l.types[0],s=e.address_components[n];if(s){let r=l[s];n==="route"?a=r:n==="street_number"?o=r:d(n,r)}}),d("hotel-address",`${o} ${a}`)},k=t=>{if(!t.types)return;let e=t.types.join(", ");d("place_types",e)},T=(t,e)=>{Object.keys(e).forEach(a=>{if(a==="address_components")return;let o=t[a];o&&d(a,o)})},g=t=>{if(!t)return;let e={name:"",international_phone_number:"",website:"",place_id:"",url:"",rating:"",user_ratings_total:"",address_components:{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"short_name",postal_code:"short_name"}};F(t,e),k(t),T(t,e)},v=()=>{let t=p(u);t&&(g(t),d("hotel-name",p("hotel-value")));let e={},a=!1;$('input[name="hotel-name"]').each(function(){let o=new google.maps.places.Autocomplete(this,e),l=$(this);o.addListener("place_changed",function(){console.log("place-changed"),a=!0;let n=o.getPlace(),s=l.val();i(l,!1,$(l).attr("base-text")),g(n),h("hotel-value",s),h(u,n),d("hotel-name",p("hotel-value"))}),l.on("change",function(){let n=l.val();localStorage.removeItem("hotel-value"),localStorage.removeItem(u),$('input[type="hidden"]').val(""),$('input[name="name"]').val(n),a=!1})})},b=()=>{let t=JSON.parse(localStorage.getItem(u)),e=t?t.types:"",a=["airport","amusement_park","art_gallery","bakery","bar","beauty_salon","bowling_alley","cafe","campground","casino","gym","lodging","night_club","travel_agency","tourist_attraction","spa","restaurant"];if(e.length){for(let o=0;o<a.length;o++)if(e.includes(a[o]))return!0}return!1};function E(t){let a=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test($(t).val());return i($(t),!a,"Please fill correct email address."),a}function R(t){let e=!0;return e=O(t),e}function O(t){let e=b();return e?i($(t),!1):i($(t),!0),e}function P(t){let e,a=$(t).siblings(".select2"),o=$(t).siblings(".nice-select");a?e=a.find(".select2-selection--single"):o?e=$(o):e=$(t);let l=!0;return $(t).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),l=!1):$(e).removeClass("is-invalid"),l}function A(t){let e=!1,a=$(t).attr("name");return $(`input[name='${a}']:checked`).length>0?e=!0:$(t).addClass("is-invalid"),i($(t),!0),e}function j(t){return i($(t),!1),!0}function y(t){return $(t).attr("name")==="hotel-name"&&i($(t),!0),i($(t),!0),!1}var _=t=>{let e=t,a=!0;if($(e).prop("required"))if($(e).val())if($(e).is('[type="email"]'))a=E(e);else if($(e).attr("name")==="hotel-name"){var o=$(e).val();o.length>=3&&o[0]!==" "?a=R(e):a=y(e)}else $(e).is("select")?a=P(e):$(e).is('[type="checkbox"], [type="radio"]')?a=A(e):a=j(e);else a=y(e);return a?i($(e),!1):$(e).addClass("error"),a},i=(t,e,a)=>{let o=$(t).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(t).closest(".form-field, [form-field]").toggleClass("error",e),o.toggle(e),a&&o.text(a)};var w=(t,l,a)=>{var o=$(t),l=$(l);Object.keys(a).forEach(function(n){var s=a[n],r=o.find('input[name="'+n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');r.length===0&&(r=o.find('select[name="'+n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var f=r.val();Array.isArray(s)||(s=[s]),s.forEach(function(m){var c=l.find("input[name="+m.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");c.val(f),["phone","mobilephone","email"].includes(m)&&(c.get(0).focus(),c.get(0).blur())})})},G=t=>{let e=!1;var a=t.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),o=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");a?(e=!0,o.text(a),o.show()):o.hide();var l=t.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),n=$('input[name="email"]').closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");return l?(n.text(l),n.show(),e=!0):n.hide(),e};function x(t){C(t)}function I(){return new Promise(function(t){C=t})}var S=t=>{let e=$('[data-form="submit-btn"]'),a=e.text(),o,l=0,n=[".","..","..."],s=()=>{let c=`Submitting${n[l]}`;e.text(c),l=(l+1)%n.length},r=()=>{e.addClass("disabled")},f=()=>{e.removeClass("disabled").text(a)};r();let m=setInterval(s,500);setTimeout(()=>{o=G(t),o?(clearInterval(m),f()):(t.find("input[type=submit]").trigger("click"),setTimeout(()=>{clearInterval(m),f()},3e3))},3e3)},C;$(document).ready(()=>{v();let t=$("#demo-form"),e,a,o=window.location.href,l=o.includes("https://start.giggle.tips/")||o.includes("https://giggle-lp-new.webflow.io/"),n=o.includes("https://hotel.giggle.tips/")||o.includes("https://giggle-new.webflow.io/"),s=window.location.pathname.includes("/en");l?a=s?"a11bc6c9-2078-4d9f-a48f-423b9a14d849":"15d2b3b0-0cf0-4219-aab3-eb433ad8c58f":n&&(a=s?"b52a0567-ff57-44e8-882c-018c0174fd5c":"63e8d382-d758-406b-91ad-6ee8aa2b2f93"),console.log(a),hbspt.forms.create({region:"eu1",portalId:"25736014",formId:a,target:"#hbst-form",onFormReady:x}),I().then(function(f){e=$(f)});let r={name:["company","new_form_hotel_name"],international_phone_number:["phone"],"hotel-address":["address"],locality:["city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip"],country:["country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email",website:"website",url:"google_places_url",place_types:["industry"]};$("[data-form=submit-btn]").on("click",function(f){let m=$(this);f.preventDefault();let c=!0;t.find(":input:visible, select").each(function(){let V=_($(this));c=c&&V}),c&&(d("page_url",window.location.pathname),w(t,e,r),S(e))})});})();
