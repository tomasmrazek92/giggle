"use strict";(()=>{var g=(t,e)=>{$(`input[name=${t}]`).val(e)};var _=t=>{let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},S=(t,e)=>{let n=typeof e=="object"?JSON.stringify(e):e;localStorage.setItem(t,n)};var w="hotel",K=(t,e)=>{let n="",o="";t.address_components.forEach(i=>{let r=i.types[0],f=e.address_components[r];if(f){let m=i[f];r==="route"?n=m:r==="street_number"?o=m:g(r,m)}}),g("hotel-address",`${o} ${n}`)},M=t=>{if(!t.types)return;let e=t.types.join(", ");g("place_types",e)},N=(t,e)=>{Object.keys(e).forEach(n=>{if(n==="address_components")return;let o=t[n];o&&g(n,o)})},k=t=>{if(!t)return;let e={name:"",international_phone_number:"",website:"",place_id:"",url:"",rating:"",user_ratings_total:"",address_components:{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"short_name",postal_code:"short_name"}};K(t,e),M(t),N(t,e)},T=()=>{let t=JSON.parse(localStorage.getItem(w)),e=t?t.types:"",n=["country","continent","locality","town_square","street_address","street_number","natural_feature"];for(let o=0;o<n.length;o++)if(e.includes(n[o]))return!1;return!0},P=()=>{let t=$('input[name="name"]').length>0||$('input[name="place_id"]').length>0,e=_(w);e&&t&&(k(e),g("hotel-name",_("hotel-value")));let n,o,i,r=-1,f=[],m={};$('input[name="hotel-name"]').each(function(){let d=$(this),s=$(".predictions-container"),u=d.attr("data-redirect");if(!s.length)return;let b=u.length;function C(a){if(!b||!a)return;let l=`${u}?placeid=${a}`,c;try{c=JSON.parse(sessionStorage.getItem("utmWebParams"))}catch{c=null}if(c&&typeof c=="object"){let h=[];for(let v in c)c.hasOwnProperty(v)&&h.push(`${encodeURIComponent(v)}=${encodeURIComponent(c[v])}`);h.length>0&&(l+=`&${h.join("&")}`)}window.location.href=l}function j(){window.google&&window.google.maps&&(n=new google.maps.places.AutocompleteService,o=new google.maps.places.PlacesService(document.createElement("div")))}function G(a){if(console.log(a),i=null,r=-1,a.length>0&&n){let l={input:a};n.getPlacePredictions(l,(c,h)=>{console.log(c),H(c,h),c&&c.length>0&&setTimeout(()=>{s.is(":visible")&&s.find(".prediction-item").length>0&&J(0)},50)})}else s.html("").addClass("hidden")}function H(a,l){s.html(""),f=[],l===google.maps.places.PlacesServiceStatus.OK&&a&&a.length>0?(f=a,a.forEach((c,h)=>{let v=c.structured_formatting.secondary_text,z=v?`<span class="secondarytext p13 text-color-content-tertiary">${v}</span>`:"",B=$(`
            <div class="prediction-item" data-place-id="${c.place_id}" data-index="${h}">
              <span class="main-text p13">${c.structured_formatting.main_text}</span>
              ${z}
            </div>
          `);s.append(B)}),s.removeClass("hidden")):s.addClass("hidden")}function J(a){let l=s.find(".prediction-item");if(l.length===0)return;a>=l.length?a=0:a<0&&(a=l.length-1),l.removeClass("selected");let c=l.eq(a).addClass("selected");r=a,i=c.data("place-id")}function I(a){let l=s.find(".prediction-item");if(l.length===0)return;a>=l.length?a=0:a<0&&(a=l.length-1),l.removeClass("selected");let c=l.eq(a).addClass("selected");r=a,i=c.data("place-id")}function y(a){a&&o&&o.getDetails({placeId:a},(l,c)=>{c===google.maps.places.PlacesServiceStatus.OK&&(d.val(l.name),s.addClass("hidden"),p(d,!1),t&&(k(l),S("hotel-value",l.name),S(w,l)),b&&C(a))})}function q(){let a=s.find(".prediction-item.selected");return a.length?(i=a.data("place-id"),y(i),!0):!1}let x;d.on("input",function(){clearTimeout(x),x=setTimeout(()=>{G($(this).val())},300)}),d.on("keydown",function(a){let l=a.which;if(l===13&&i)return a.preventDefault(),y(i),!1;if(!s.hasClass("hidden"))switch(l){case 38:a.preventDefault(),I(r-1);break;case 40:a.preventDefault(),I(r+1);break;case 13:a.preventDefault(),q();break;case 27:a.preventDefault(),s.addClass("hidden");break;case 9:if(r>=0){a.preventDefault();let c=s.find(".prediction-item.selected");c.length&&(i=c.data("place-id"),y(i))}break}}),s.on("click",".prediction-item",function(){i=$(this).data("place-id"),p(d,!1),y(i)}),s.on("mouseenter",".prediction-item",function(){r=parseInt($(this).data("index"),10),s.find(".prediction-item").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(a){!$(a.target).closest(s).length&&!$(a.target).is(d)&&s.addClass("hidden")}),$("[data-redirect-button]").on("click",function(a){i?C(i):p(d,!0)}),d.on("change",function(){let a=d.val();!i&&t&&(localStorage.removeItem("hotel-value"),localStorage.removeItem(w),$('input[type="hidden"]').val(""),$('input[name="name"]').val(a))}),j()})};function U(t){let n=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test($(t).val());return p($(t),!n,"Please fill correct email address."),n}function L(t){let e=!0;return e=W(t),e}function W(t){let e=T();return e?p($(t),!1):p($(t),!0),e}function Q(t){let e,n=$(t).siblings(".select2"),o=$(t).siblings(".nice-select");n?e=n.find(".select2-selection--single"):o?e=$(o):e=$(t);let i=!0;return $(t).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),i=!1):$(e).removeClass("is-invalid"),i}function X(t){let e=!1,n=$(t).attr("name");return $(`input[name='${n}']:checked`).length>0?e=!0:$(t).addClass("is-invalid"),p($(t),!0),e}function Y(t){return p($(t),!1),!0}function F(t){return $(t).attr("name")==="hotel-name"&&p($(t),!0),p($(t),!0),!1}var V=t=>{let e=t,n=!0;if($(e).prop("required"))if($(e).val())if($(e).is('[type="email"]'))n=U(e);else if($(e).attr("name")==="hotel-name"){var o=$(e).val();o.length>=3&&o[0]!==" "?n=L(e):n=F(e)}else $(e).is("select")?n=Q(e):$(e).is('[type="checkbox"], [type="radio"]')?n=X(e):n=Y(e);else n=F(e);return n?p($(e),!1):$(e).addClass("error"),n},p=(t,e,n)=>{let o=$(t).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(t).closest(".form-field, [form-field]").toggleClass("error",e),o.toggle(e),n&&o.text(n)};var E=(t,i,n)=>{var o=$(t),i=$(i);Object.keys(n).forEach(function(r){var f=n[r],m=o.find('input[name="'+r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');m.length===0&&(m=o.find('select[name="'+r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var d=m.val();Array.isArray(f)||(f=[f]),f.forEach(function(s){var u=i.find("input[name="+s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");u.val(d),["phone","mobilephone","email"].includes(s)&&(u.get(0).focus(),u.get(0).blur())})})},Z=t=>{let e=!1;var n=t.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),o=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");n?(e=!0,o.text(n),o.show()):o.hide();var i=t.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),r=$('input[name="email"]').closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");return i?(r.text(i),r.show(),e=!0):r.hide(),e};function R(t){A(t)}function O(){return new Promise(function(t){A=t})}var D=t=>{let e=$('[data-form="submit-btn"]'),n=e.text(),o,i=0,r=[".","..","..."],f=()=>{let u=`Submitting${r[i]}`;e.text(u),i=(i+1)%r.length},m=()=>{e.addClass("disabled")},d=()=>{e.removeClass("disabled").text(n)};m();let s=setInterval(f,500);setTimeout(()=>{o=Z(t),o?(clearInterval(s),d()):(t.find("input[type=submit]").trigger("click"),setTimeout(()=>{clearInterval(s),d()},3e3))},3e3)},A;$(document).ready(()=>{P();let t=$("#demo-form"),e,n,o=window.location.href,i=o.includes("https://start.giggle.tips/")||o.includes("https://giggle-lp-new.webflow.io/"),r=o.includes("https://hotel.giggle.tips/")||o.includes("https://giggle-new.webflow.io/"),f=window.location.pathname.includes("/en");i?typeof isDl!="undefined"&&isDl===!0?n="b202ae0b-837f-47a5-8206-1e194f832f55":n=f?"a11bc6c9-2078-4d9f-a48f-423b9a14d849":"15d2b3b0-0cf0-4219-aab3-eb433ad8c58f":r&&(n=f?"b52a0567-ff57-44e8-882c-018c0174fd5c":"63e8d382-d758-406b-91ad-6ee8aa2b2f93"),hbspt.forms.create({region:"eu1",portalId:"25736014",formId:n,target:"#hbst-form",onFormReady:R}),O().then(function(d){e=$(d)});let m={name:["company","new_form_hotel_name"],international_phone_number:["phone"],"hotel-address":["address"],locality:["city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip"],country:["country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email",website:"website",url:"google_places_url",place_types:["industry"],voucher_code:"voucher_code"};$("[data-form=submit-btn]").on("click",function(d){let s=$(this);d.preventDefault();let u=!0;t.find(":input:visible, select").each(function(){let b=V($(this));u=u&&b}),u&&(g("page_url",window.location.pathname),E(t,e,m),D(e))})});})();
