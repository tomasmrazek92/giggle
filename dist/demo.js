"use strict";(()=>{var g=(t,e)=>{$(`input[name=${t}]`).val(e)};var _=t=>{let e=localStorage.getItem(t);try{return JSON.parse(e)}catch{return e}},w=(t,e)=>{let n=typeof e=="object"?JSON.stringify(e):e;localStorage.setItem(t,n)};var y="hotel",L=(t,e)=>{let n="",l="";t.address_components.forEach(o=>{let s=o.types[0],m=e.address_components[s];if(m){let f=o[m];s==="route"?n=f:s==="street_number"?l=f:g(s,f)}}),g("hotel-address",`${l} ${n}`)},M=t=>{if(!t.types)return;let e=t.types.join(", ");g("place_types",e)},N=(t,e)=>{Object.keys(e).forEach(n=>{if(n==="address_components")return;let l=t[n];l&&g(n,l)})},k=t=>{if(!t)return;let e={name:"",international_phone_number:"",website:"",place_id:"",url:"",rating:"",user_ratings_total:"",address_components:{street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"short_name",postal_code:"short_name"}};L(t,e),M(t),N(t,e)},P=()=>{let t=JSON.parse(localStorage.getItem(y)),e=t?t.types:"",n=["country","continent","locality","town_square","street_address","street_number","natural_feature"];for(let l=0;l<n.length;l++)if(e.includes(n[l]))return!1;return!0},T=()=>{let t=$('input[name="name"]').length>0||$('input[name="place_id"]').length>0,e=_(y);e&&t&&(k(e),g("hotel-name",_("hotel-value")));let n,l,o,s=-1,m=[],f={};$('input[name="hotel-name"]').each(function(){let d=$(this),i=$(".predictions-container"),p=d.attr("data-redirect"),G=window.location.pathname.includes("/de");if(!i.length)return;let C=p&&p!=="";function S(a){if(!C||!a)return;let r=`${p}?placeid=${a}&lang=${G?"2":"1"}`,c;try{c=JSON.parse(sessionStorage.getItem("utmWebParams"))}catch{c=null}if(c&&typeof c=="object"){let h=[];for(let v in c)c.hasOwnProperty(v)&&h.push(`${encodeURIComponent(v)}=${encodeURIComponent(c[v])}`);h.length>0&&(r+=`&${h.join("&")}`)}window.location.href=r}function j(){window.google&&window.google.maps&&(n=new google.maps.places.AutocompleteService,l=new google.maps.places.PlacesService(document.createElement("div")))}function H(a){if(console.log(a),o=null,s=-1,a.length>0&&n){let r={input:a};n.getPlacePredictions(r,(c,h)=>{console.log(c),J(c,h),c&&c.length>0&&setTimeout(()=>{i.is(":visible")&&i.find(".prediction-item").length>0&&q(0)},50)})}else i.html("").addClass("hidden")}function J(a,r){i.html(""),m=[],r===google.maps.places.PlacesServiceStatus.OK&&a&&a.length>0?(m=a,a.forEach((c,h)=>{let v=c.structured_formatting.secondary_text,B=v?`<span class="secondarytext p13 text-color-content-tertiary">${v}</span>`:"",K=$(`
            <div class="prediction-item" data-place-id="${c.place_id}" data-index="${h}">
              <span class="main-text p13">${c.structured_formatting.main_text}</span>
              ${B}
            </div>
          `);i.append(K)}),i.removeClass("hidden")):i.addClass("hidden")}function q(a){let r=i.find(".prediction-item");if(r.length===0)return;a>=r.length?a=0:a<0&&(a=r.length-1),r.removeClass("selected");let c=r.eq(a).addClass("selected");s=a,o=c.data("place-id")}function I(a){let r=i.find(".prediction-item");if(r.length===0)return;a>=r.length?a=0:a<0&&(a=r.length-1),r.removeClass("selected");let c=r.eq(a).addClass("selected");s=a,o=c.data("place-id")}function b(a){a&&l&&l.getDetails({placeId:a},(r,c)=>{c===google.maps.places.PlacesServiceStatus.OK&&(d.val(r.name),i.addClass("hidden"),u(d,!1),t&&(k(r),w("hotel-value",r.name),w(y,r)),C&&S(a))})}function z(){let a=i.find(".prediction-item.selected");return a.length?(o=a.data("place-id"),b(o),!0):!1}let x;d.on("input",function(){clearTimeout(x),x=setTimeout(()=>{H($(this).val())},300)}),d.on("keydown",function(a){let r=a.which;if(r===13&&o)return a.preventDefault(),b(o),!1;if(!i.hasClass("hidden"))switch(r){case 38:a.preventDefault(),I(s-1);break;case 40:a.preventDefault(),I(s+1);break;case 13:a.preventDefault(),z();break;case 27:a.preventDefault(),i.addClass("hidden");break;case 9:if(s>=0){a.preventDefault();let c=i.find(".prediction-item.selected");c.length&&(o=c.data("place-id"),b(o))}break}}),i.on("click",".prediction-item",function(){o=$(this).data("place-id"),u(d,!1),b(o)}),i.on("mouseenter",".prediction-item",function(){s=parseInt($(this).data("index"),10),i.find(".prediction-item").removeClass("selected"),$(this).addClass("selected")}),$(document).on("click",function(a){!$(a.target).closest(i).length&&!$(a.target).is(d)&&i.addClass("hidden")}),$("[data-redirect-button]").on("click",function(a){o?S(o):u(d,!0)}),d.on("change",function(){let a=d.val();!o&&t&&(localStorage.removeItem("hotel-value"),localStorage.removeItem(y),$('input[type="hidden"]').val(""),$('input[name="name"]').val(a))}),console.log(o),j()})};function U(t){let n=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test($(t).val());return u($(t),!n,"Please fill correct email address."),n}function W(t){let e=!0;return e=Q(t),e}function Q(t){let e=P();return e?u($(t),!1):u($(t),!0),e}function X(t){let e,n=$(t).siblings(".select2"),l=$(t).siblings(".nice-select");n?e=n.find(".select2-selection--single"):l?e=$(l):e=$(t);let o=!0;return $(t).val()===""?(validArr.push(selectVal),$(e).addClass("is-invalid"),o=!1):$(e).removeClass("is-invalid"),o}function Y(t){let e=!1,n=$(t).attr("name");return $(`input[name='${n}']:checked`).length>0?e=!0:$(t).addClass("is-invalid"),u($(t),!0),e}function Z(t){return u($(t),!1),!0}function F(t){return $(t).attr("name")==="hotel-name"&&u($(t),!0),u($(t),!0),!1}var V=t=>{let e=t,n=!0;if($(e).prop("required"))if($(e).val())if($(e).is('[type="email"]'))n=U(e);else if($(e).attr("name")==="hotel-name"){var l=$(e).val();l.length>=3&&l[0]!==" "?n=W(e):n=F(e)}else $(e).is("select")?n=X(e):$(e).is('[type="checkbox"], [type="radio"]')?n=Y(e):n=Z(e);else n=F(e);return n?u($(e),!1):$(e).addClass("error"),n},u=(t,e,n)=>{let l=$(t).closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");$(t).closest(".form-field, [form-field]").toggleClass("error",e),l.toggle(e),n&&l.text(n)};var R=(t,o,n)=>{var l=$(t),o=$(o);Object.keys(n).forEach(function(s){var m=n[s],f=l.find('input[name="'+s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]');f.length===0&&(f=l.find('select[name="'+s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+'"]'));var d=f.val();Array.isArray(m)||(m=[m]),m.forEach(function(i){var p=o.find("input[name="+i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")+"]");p.val(d),["phone","mobilephone","email"].includes(i)&&(p.get(0).focus(),p.get(0).blur())})})},ee=t=>{let e=!1;var n=t.find("input[name=mobilephone]").parent().siblings(".hs-error-msgs").find(".hs-error-msg").text(),l=$('input[name="cellphone"]').closest("[field-wrapper]").find("[field-validation]");n?(e=!0,l.text(n),l.show()):l.hide();var o=t.find("input[name=email]").closest(".hs-fieldtype-text").find(".hs-error-msgs").find(".hs-error-msg").text(),s=$('input[name="email"]').closest(".form-field-wrapper, [field-wrapper]").find(".field-validation, [field-validation]");return o?(s.text(o),s.show(),e=!0):s.hide(),e};function E(t){A(t)}function O(){return new Promise(function(t){A=t})}var D=t=>{let e=$('[data-form="submit-btn"]'),n=e.text(),l,o=0,s=[".","..","..."],m=()=>{let p=`Submitting${s[o]}`;e.text(p),o=(o+1)%s.length},f=()=>{e.addClass("disabled")},d=()=>{e.removeClass("disabled").text(n)};f();let i=setInterval(m,500);setTimeout(()=>{l=ee(t),l?(clearInterval(i),d()):(t.find("input[type=submit]").trigger("click"),setTimeout(()=>{clearInterval(i),d()},3e3))},3e3)},A;$(document).ready(()=>{T();let t=$("#demo-form"),e,n;n=window.location.pathname.includes("/de")?"63e8d382-d758-406b-91ad-6ee8aa2b2f93":"b52a0567-ff57-44e8-882c-018c0174fd5c",hbspt.forms.create({region:"eu1",portalId:"25736014",formId:n,target:"#hbst-form",onFormReady:E}),O().then(function(s){e=$(s)});let o={name:["company","new_form_hotel_name"],international_phone_number:["phone"],"hotel-address":["address"],locality:["city"],administrative_area_level_1:["state","0-2/state"],postal_code:["zip"],country:["country"],"first-name":"firstname","last-name":"lastname",cellphone:"mobilephone",email:"email",website:"website",url:"google_places_url",place_types:["industry"],voucher_code:"voucher_code"};$("[data-form=submit-btn]").on("click",function(s){let m=$(this);s.preventDefault();let f=!0;t.find(":input:visible, select").each(function(){let d=V($(this));f=f&&d}),f&&(g("page_url",window.location.pathname),R(t,e,o),D(e))})});})();
